"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var helpers_1 = require("./helpers");
var psdReader_1 = require("./psdReader");
function readBlendMode(reader) {
    psdReader_1.checkSignature(reader, '8BIM');
    return psdReader_1.readSignature(reader);
}
function readShadowInfo(reader) {
    var size = psdReader_1.readUint32(reader);
    var version = psdReader_1.readUint32(reader);
    if (size !== 41 && size !== 51)
        throw new Error("Invalid effects shadow info size: " + size);
    if (version !== 0 && version !== 2)
        throw new Error("Invalid effects shadow info version: " + version);
    var blur = psdReader_1.readInt32(reader);
    var intensity = psdReader_1.readInt32(reader);
    var angle = psdReader_1.readInt32(reader);
    var distance = psdReader_1.readInt32(reader);
    var color = helpers_1.readColor(reader);
    var blendMode = readBlendMode(reader);
    var enabled = !!psdReader_1.readUint8(reader);
    var useAngleInAllEffects = !!psdReader_1.readUint8(reader);
    var opacity = psdReader_1.readUint8(reader);
    var nativeColor = size >= 51 ? helpers_1.readColor(reader) : undefined;
    return { blur: blur, intensity: intensity, angle: angle, distance: distance, color: color, blendMode: blendMode, enabled: enabled, useAngleInAllEffects: useAngleInAllEffects, opacity: opacity, nativeColor: nativeColor };
}
function readOuterGlowInfo(reader) {
    var size = psdReader_1.readUint32(reader);
    var version = psdReader_1.readUint32(reader);
    if (size !== 32 && size !== 42)
        throw new Error("Invalid effects outer glow info size: " + size);
    if (version !== 0 && version !== 2)
        throw new Error("Invalid effects outer glow info version: " + version);
    var blur = psdReader_1.readUint32(reader);
    var intensity = psdReader_1.readUint32(reader);
    var color = helpers_1.readColor(reader);
    var blendMode = readBlendMode(reader);
    var enabled = !!psdReader_1.readUint8(reader);
    var opacity = psdReader_1.readUint8(reader);
    var nativeColor = size >= 42 ? helpers_1.readColor(reader) : undefined;
    return { blur: blur, intensity: intensity, color: color, blendMode: blendMode, enabled: enabled, opacity: opacity, nativeColor: nativeColor };
}
function readInnerGlowInfo(reader) {
    var size = psdReader_1.readUint32(reader);
    var version = psdReader_1.readUint32(reader);
    if (size !== 33 && size !== 43)
        throw new Error("Invalid effects inner glow info size: " + size);
    if (version !== 0 && version !== 2)
        throw new Error("Invalid effects inner glow info version: " + version);
    var blur = psdReader_1.readUint32(reader);
    var intensity = psdReader_1.readUint32(reader);
    var color = helpers_1.readColor(reader);
    var blendMode = readBlendMode(reader);
    var enabled = !!psdReader_1.readUint8(reader);
    var opacity = psdReader_1.readUint8(reader);
    var invert = size >= 43 ? !!psdReader_1.readUint8(reader) : undefined;
    var nativeColor = size >= 43 ? helpers_1.readColor(reader) : undefined;
    return { blur: blur, intensity: intensity, color: color, blendMode: blendMode, enabled: enabled, opacity: opacity, invert: invert, nativeColor: nativeColor };
}
function readBevelInfo(reader) {
    var size = psdReader_1.readUint32(reader);
    var version = psdReader_1.readUint32(reader);
    if (size !== 58 && size !== 78)
        throw new Error("Invalid effects bevel info size: " + size);
    if (version !== 0 && version !== 2)
        throw new Error("Invalid effects bevel info version: " + version);
    var angle = psdReader_1.readUint32(reader);
    var strength = psdReader_1.readUint32(reader);
    var blur = psdReader_1.readUint32(reader);
    var highlightBlendMode = readBlendMode(reader);
    var shadowBlendMode = readBlendMode(reader);
    var highlightColor = helpers_1.readColor(reader);
    var shadowColor = helpers_1.readColor(reader);
    var bevelStyle = psdReader_1.readUint8(reader);
    var highlightOpacity = psdReader_1.readUint8(reader);
    var shadowOpacity = psdReader_1.readUint8(reader);
    var enabled = !!psdReader_1.readUint8(reader);
    var useAngleInAllEffects = !!psdReader_1.readUint8(reader);
    var up = !!psdReader_1.readUint8(reader);
    var realHighlightColor = size >= 78 ? helpers_1.readColor(reader) : undefined;
    var realShadowColor = size >= 78 ? helpers_1.readColor(reader) : undefined;
    return {
        angle: angle, strength: strength, blur: blur, highlightBlendMode: highlightBlendMode, shadowBlendMode: shadowBlendMode, highlightColor: highlightColor, shadowColor: shadowColor,
        bevelStyle: bevelStyle, highlightOpacity: highlightOpacity, shadowOpacity: shadowOpacity, enabled: enabled, useAngleInAllEffects: useAngleInAllEffects, up: up,
        realHighlightColor: realHighlightColor, realShadowColor: realShadowColor
    };
}
function readSolidFillInfo(reader) {
    var size = psdReader_1.readUint32(reader);
    var version = psdReader_1.readUint32(reader);
    if (size !== 34)
        throw new Error("Invalid effects solid fill info size: " + size);
    if (version !== 2)
        throw new Error("Invalid effects solid fill info version: " + version);
    var blendMode = readBlendMode(reader);
    var color = helpers_1.readColor(reader);
    var opacity = psdReader_1.readUint8(reader);
    var enabled = !!psdReader_1.readUint8(reader);
    var nativeColor = helpers_1.readColor(reader);
    return { blendMode: blendMode, color: color, opacity: opacity, enabled: enabled, nativeColor: nativeColor };
}
function readEffects(reader) {
    var version = psdReader_1.readUint16(reader);
    if (version !== 0)
        throw new Error("Invalid effects layer version: " + version);
    var effectsCount = psdReader_1.readUint16(reader);
    var effects = {};
    for (var i = 0; i < effectsCount; i++) {
        psdReader_1.checkSignature(reader, '8BIM');
        var type = psdReader_1.readSignature(reader);
        switch (type) {
            case 'cmnS': // common state (see See Effects layer, common state info)
                var size = psdReader_1.readUint32(reader);
                var version_1 = psdReader_1.readUint32(reader);
                var visible = !!psdReader_1.readUint8(reader);
                psdReader_1.skipBytes(reader, 2);
                if (size !== 7 || version_1 !== 0 || !visible)
                    throw new Error("Invalid effects common state");
                break;
            case 'dsdw': // drop shadow (see See Effects layer, drop shadow and inner shadow info)
                effects.dropShadow = readShadowInfo(reader);
                break;
            case 'isdw': // inner shadow (see See Effects layer, drop shadow and inner shadow info)
                effects.innerShadow = readShadowInfo(reader);
                break;
            case 'oglw': // outer glow (see See Effects layer, outer glow info)
                effects.outerGlow = readOuterGlowInfo(reader);
                break;
            case 'iglw': // inner glow (see See Effects layer, inner glow info)
                effects.innerGlow = readInnerGlowInfo(reader);
                break;
            case 'bevl': // bevel (see See Effects layer, bevel info)
                effects.bevel = readBevelInfo(reader);
                break;
            case 'sofi': // solid fill ( Photoshop 7.0) (see See Effects layer, solid fill (added in Photoshop 7.0))
                effects.solidFill = readSolidFillInfo(reader);
                break;
            default:
                throw new Error("Invalid effect type: '" + type + "'");
        }
    }
    return effects;
}
exports.readEffects = readEffects;
function writeEffects(_writer, _effects) {
    throw new Error('Not implemented');
}
exports.writeEffects = writeEffects;

//# sourceMappingURL=data:application/json;charset=utf8;base64,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TUFBTSxFQUFFLDJGQUEyRjtnQkFDdkcsT0FBTyxDQUFDLFNBQVMsR0FBRyxpQkFBaUIsQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDOUMsTUFBTTtZQUNQO2dCQUNDLE1BQU0sSUFBSSxLQUFLLENBQUMsMkJBQXlCLElBQUksTUFBRyxDQUFDLENBQUM7U0FDbkQ7S0FDRDtJQUVELE9BQU8sT0FBTyxDQUFDO0FBQ2hCLENBQUM7QUEvQ0Qsa0NBK0NDO0FBRUQsU0FBZ0IsWUFBWSxDQUFDLE9BQWtCLEVBQUUsUUFBMEI7SUFDMUUsTUFBTSxJQUFJLEtBQUssQ0FBQyxpQkFBaUIsQ0FBQyxDQUFDO0FBQ3BDLENBQUM7QUFGRCxvQ0FFQyIsImZpbGUiOiJlZmZlY3RzSGVscGVycy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7XG5cdExheWVyRWZmZWN0c0luZm8sIExheWVyRWZmZWN0c0JldmVsSW5mbywgTGF5ZXJFZmZlY3RzSW5uZXJHbG93SW5mbywgTGF5ZXJFZmZlY3RzT3V0ZXJHbG93SW5mbyxcblx0TGF5ZXJFZmZlY3RzU2hhZG93SW5mbywgTGF5ZXJFZmZlY3RzU29saWRGaWxsSW5mb1xufSBmcm9tICcuL3BzZCc7XG5pbXBvcnQgeyByZWFkQ29sb3IgfSBmcm9tICcuL2hlbHBlcnMnO1xuaW1wb3J0IHsgUHNkUmVhZGVyLCBjaGVja1NpZ25hdHVyZSwgcmVhZFNpZ25hdHVyZSwgc2tpcEJ5dGVzLCByZWFkVWludDE2LCByZWFkVWludDgsIHJlYWRVaW50MzIsIHJlYWRJbnQzMiB9IGZyb20gJy4vcHNkUmVhZGVyJztcbmltcG9ydCB7IFBzZFdyaXRlciB9IGZyb20gJy4vcHNkV3JpdGVyJztcblxuZnVuY3Rpb24gcmVhZEJsZW5kTW9kZShyZWFkZXI6IFBzZFJlYWRlcikge1xuXHRjaGVja1NpZ25hdHVyZShyZWFkZXIsICc4QklNJyk7XG5cdHJldHVybiByZWFkU2lnbmF0dXJlKHJlYWRlcik7XG59XG5cbmZ1bmN0aW9uIHJlYWRTaGFkb3dJbmZvKHJlYWRlcjogUHNkUmVhZGVyKTogTGF5ZXJFZmZlY3RzU2hhZG93SW5mbyB7XG5cdGNvbnN0IHNpemUgPSByZWFkVWludDMyKHJlYWRlcik7XG5cdGNvbnN0IHZlcnNpb24gPSByZWFkVWludDMyKHJlYWRlcik7XG5cblx0aWYgKHNpemUgIT09IDQxICYmIHNpemUgIT09IDUxKVxuXHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBlZmZlY3RzIHNoYWRvdyBpbmZvIHNpemU6ICR7c2l6ZX1gKTtcblxuXHRpZiAodmVyc2lvbiAhPT0gMCAmJiB2ZXJzaW9uICE9PSAyKVxuXHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBlZmZlY3RzIHNoYWRvdyBpbmZvIHZlcnNpb246ICR7dmVyc2lvbn1gKTtcblxuXHRjb25zdCBibHVyID0gcmVhZEludDMyKHJlYWRlcik7XG5cdGNvbnN0IGludGVuc2l0eSA9IHJlYWRJbnQzMihyZWFkZXIpO1xuXHRjb25zdCBhbmdsZSA9IHJlYWRJbnQzMihyZWFkZXIpO1xuXHRjb25zdCBkaXN0YW5jZSA9IHJlYWRJbnQzMihyZWFkZXIpO1xuXHRjb25zdCBjb2xvciA9IHJlYWRDb2xvcihyZWFkZXIpO1xuXHRjb25zdCBibGVuZE1vZGUgPSByZWFkQmxlbmRNb2RlKHJlYWRlcik7XG5cdGNvbnN0IGVuYWJsZWQgPSAhIXJlYWRVaW50OChyZWFkZXIpO1xuXHRjb25zdCB1c2VBbmdsZUluQWxsRWZmZWN0cyA9ICEhcmVhZFVpbnQ4KHJlYWRlcik7XG5cdGNvbnN0IG9wYWNpdHkgPSByZWFkVWludDgocmVhZGVyKTtcblx0Y29uc3QgbmF0aXZlQ29sb3IgPSBzaXplID49IDUxID8gcmVhZENvbG9yKHJlYWRlcikgOiB1bmRlZmluZWQ7XG5cblx0cmV0dXJuIHsgYmx1ciwgaW50ZW5zaXR5LCBhbmdsZSwgZGlzdGFuY2UsIGNvbG9yLCBibGVuZE1vZGUsIGVuYWJsZWQsIHVzZUFuZ2xlSW5BbGxFZmZlY3RzLCBvcGFjaXR5LCBuYXRpdmVDb2xvciB9O1xufVxuXG5mdW5jdGlvbiByZWFkT3V0ZXJHbG93SW5mbyhyZWFkZXI6IFBzZFJlYWRlcik6IExheWVyRWZmZWN0c091dGVyR2xvd0luZm8ge1xuXHRjb25zdCBzaXplID0gcmVhZFVpbnQzMihyZWFkZXIpO1xuXHRjb25zdCB2ZXJzaW9uID0gcmVhZFVpbnQzMihyZWFkZXIpO1xuXG5cdGlmIChzaXplICE9PSAzMiAmJiBzaXplICE9PSA0Milcblx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZWZmZWN0cyBvdXRlciBnbG93IGluZm8gc2l6ZTogJHtzaXplfWApO1xuXG5cdGlmICh2ZXJzaW9uICE9PSAwICYmIHZlcnNpb24gIT09IDIpXG5cdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGVmZmVjdHMgb3V0ZXIgZ2xvdyBpbmZvIHZlcnNpb246ICR7dmVyc2lvbn1gKTtcblxuXHRjb25zdCBibHVyID0gcmVhZFVpbnQzMihyZWFkZXIpO1xuXHRjb25zdCBpbnRlbnNpdHkgPSByZWFkVWludDMyKHJlYWRlcik7XG5cdGNvbnN0IGNvbG9yID0gcmVhZENvbG9yKHJlYWRlcik7XG5cdGNvbnN0IGJsZW5kTW9kZSA9IHJlYWRCbGVuZE1vZGUocmVhZGVyKTtcblx0Y29uc3QgZW5hYmxlZCA9ICEhcmVhZFVpbnQ4KHJlYWRlcik7XG5cdGNvbnN0IG9wYWNpdHkgPSByZWFkVWludDgocmVhZGVyKTtcblx0Y29uc3QgbmF0aXZlQ29sb3IgPSBzaXplID49IDQyID8gcmVhZENvbG9yKHJlYWRlcikgOiB1bmRlZmluZWQ7XG5cblx0cmV0dXJuIHsgYmx1ciwgaW50ZW5zaXR5LCBjb2xvciwgYmxlbmRNb2RlLCBlbmFibGVkLCBvcGFjaXR5LCBuYXRpdmVDb2xvciB9O1xufVxuXG5mdW5jdGlvbiByZWFkSW5uZXJHbG93SW5mbyhyZWFkZXI6IFBzZFJlYWRlcik6IExheWVyRWZmZWN0c0lubmVyR2xvd0luZm8ge1xuXHRjb25zdCBzaXplID0gcmVhZFVpbnQzMihyZWFkZXIpO1xuXHRjb25zdCB2ZXJzaW9uID0gcmVhZFVpbnQzMihyZWFkZXIpO1xuXG5cdGlmIChzaXplICE9PSAzMyAmJiBzaXplICE9PSA0Mylcblx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZWZmZWN0cyBpbm5lciBnbG93IGluZm8gc2l6ZTogJHtzaXplfWApO1xuXG5cdGlmICh2ZXJzaW9uICE9PSAwICYmIHZlcnNpb24gIT09IDIpXG5cdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGVmZmVjdHMgaW5uZXIgZ2xvdyBpbmZvIHZlcnNpb246ICR7dmVyc2lvbn1gKTtcblxuXHRjb25zdCBibHVyID0gcmVhZFVpbnQzMihyZWFkZXIpO1xuXHRjb25zdCBpbnRlbnNpdHkgPSByZWFkVWludDMyKHJlYWRlcik7XG5cdGNvbnN0IGNvbG9yID0gcmVhZENvbG9yKHJlYWRlcik7XG5cdGNvbnN0IGJsZW5kTW9kZSA9IHJlYWRCbGVuZE1vZGUocmVhZGVyKTtcblx0Y29uc3QgZW5hYmxlZCA9ICEhcmVhZFVpbnQ4KHJlYWRlcik7XG5cdGNvbnN0IG9wYWNpdHkgPSByZWFkVWludDgocmVhZGVyKTtcblxuXHRjb25zdCBpbnZlcnQgPSBzaXplID49IDQzID8gISFyZWFkVWludDgocmVhZGVyKSA6IHVuZGVmaW5lZDtcblx0Y29uc3QgbmF0aXZlQ29sb3IgPSBzaXplID49IDQzID8gcmVhZENvbG9yKHJlYWRlcikgOiB1bmRlZmluZWQ7XG5cblx0cmV0dXJuIHsgYmx1ciwgaW50ZW5zaXR5LCBjb2xvciwgYmxlbmRNb2RlLCBlbmFibGVkLCBvcGFjaXR5LCBpbnZlcnQsIG5hdGl2ZUNvbG9yIH07XG59XG5cbmZ1bmN0aW9uIHJlYWRCZXZlbEluZm8ocmVhZGVyOiBQc2RSZWFkZXIpOiBMYXllckVmZmVjdHNCZXZlbEluZm8ge1xuXHRjb25zdCBzaXplID0gcmVhZFVpbnQzMihyZWFkZXIpO1xuXHRjb25zdCB2ZXJzaW9uID0gcmVhZFVpbnQzMihyZWFkZXIpO1xuXG5cdGlmIChzaXplICE9PSA1OCAmJiBzaXplICE9PSA3OClcblx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZWZmZWN0cyBiZXZlbCBpbmZvIHNpemU6ICR7c2l6ZX1gKTtcblxuXHRpZiAodmVyc2lvbiAhPT0gMCAmJiB2ZXJzaW9uICE9PSAyKVxuXHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBlZmZlY3RzIGJldmVsIGluZm8gdmVyc2lvbjogJHt2ZXJzaW9ufWApO1xuXG5cdGNvbnN0IGFuZ2xlID0gcmVhZFVpbnQzMihyZWFkZXIpO1xuXHRjb25zdCBzdHJlbmd0aCA9IHJlYWRVaW50MzIocmVhZGVyKTtcblx0Y29uc3QgYmx1ciA9IHJlYWRVaW50MzIocmVhZGVyKTtcblx0Y29uc3QgaGlnaGxpZ2h0QmxlbmRNb2RlID0gcmVhZEJsZW5kTW9kZShyZWFkZXIpO1xuXHRjb25zdCBzaGFkb3dCbGVuZE1vZGUgPSByZWFkQmxlbmRNb2RlKHJlYWRlcik7XG5cdGNvbnN0IGhpZ2hsaWdodENvbG9yID0gcmVhZENvbG9yKHJlYWRlcik7XG5cdGNvbnN0IHNoYWRvd0NvbG9yID0gcmVhZENvbG9yKHJlYWRlcik7XG5cdGNvbnN0IGJldmVsU3R5bGUgPSByZWFkVWludDgocmVhZGVyKTtcblx0Y29uc3QgaGlnaGxpZ2h0T3BhY2l0eSA9IHJlYWRVaW50OChyZWFkZXIpO1xuXHRjb25zdCBzaGFkb3dPcGFjaXR5ID0gcmVhZFVpbnQ4KHJlYWRlcik7XG5cdGNvbnN0IGVuYWJsZWQgPSAhIXJlYWRVaW50OChyZWFkZXIpO1xuXHRjb25zdCB1c2VBbmdsZUluQWxsRWZmZWN0cyA9ICEhcmVhZFVpbnQ4KHJlYWRlcik7XG5cdGNvbnN0IHVwID0gISFyZWFkVWludDgocmVhZGVyKTtcblxuXHRjb25zdCByZWFsSGlnaGxpZ2h0Q29sb3IgPSBzaXplID49IDc4ID8gcmVhZENvbG9yKHJlYWRlcikgOiB1bmRlZmluZWQ7XG5cdGNvbnN0IHJlYWxTaGFkb3dDb2xvciA9IHNpemUgPj0gNzggPyByZWFkQ29sb3IocmVhZGVyKSA6IHVuZGVmaW5lZDtcblxuXHRyZXR1cm4ge1xuXHRcdGFuZ2xlLCBzdHJlbmd0aCwgYmx1ciwgaGlnaGxpZ2h0QmxlbmRNb2RlLCBzaGFkb3dCbGVuZE1vZGUsIGhpZ2hsaWdodENvbG9yLCBzaGFkb3dDb2xvcixcblx0XHRiZXZlbFN0eWxlLCBoaWdobGlnaHRPcGFjaXR5LCBzaGFkb3dPcGFjaXR5LCBlbmFibGVkLCB1c2VBbmdsZUluQWxsRWZmZWN0cywgdXAsXG5cdFx0cmVhbEhpZ2hsaWdodENvbG9yLCByZWFsU2hhZG93Q29sb3Jcblx0fTtcbn1cblxuZnVuY3Rpb24gcmVhZFNvbGlkRmlsbEluZm8ocmVhZGVyOiBQc2RSZWFkZXIpOiBMYXllckVmZmVjdHNTb2xpZEZpbGxJbmZvIHtcblx0Y29uc3Qgc2l6ZSA9IHJlYWRVaW50MzIocmVhZGVyKTtcblx0Y29uc3QgdmVyc2lvbiA9IHJlYWRVaW50MzIocmVhZGVyKTtcblxuXHRpZiAoc2l6ZSAhPT0gMzQpXG5cdFx0dGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGVmZmVjdHMgc29saWQgZmlsbCBpbmZvIHNpemU6ICR7c2l6ZX1gKTtcblxuXHRpZiAodmVyc2lvbiAhPT0gMilcblx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZWZmZWN0cyBzb2xpZCBmaWxsIGluZm8gdmVyc2lvbjogJHt2ZXJzaW9ufWApO1xuXG5cdGNvbnN0IGJsZW5kTW9kZSA9IHJlYWRCbGVuZE1vZGUocmVhZGVyKTtcblx0Y29uc3QgY29sb3IgPSByZWFkQ29sb3IocmVhZGVyKTtcblx0Y29uc3Qgb3BhY2l0eSA9IHJlYWRVaW50OChyZWFkZXIpO1xuXHRjb25zdCBlbmFibGVkID0gISFyZWFkVWludDgocmVhZGVyKTtcblx0Y29uc3QgbmF0aXZlQ29sb3IgPSByZWFkQ29sb3IocmVhZGVyKTtcblxuXHRyZXR1cm4geyBibGVuZE1vZGUsIGNvbG9yLCBvcGFjaXR5LCBlbmFibGVkLCBuYXRpdmVDb2xvciB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVhZEVmZmVjdHMocmVhZGVyOiBQc2RSZWFkZXIpIHtcblx0Y29uc3QgdmVyc2lvbiA9IHJlYWRVaW50MTYocmVhZGVyKTtcblxuXHRpZiAodmVyc2lvbiAhPT0gMClcblx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZWZmZWN0cyBsYXllciB2ZXJzaW9uOiAke3ZlcnNpb259YCk7XG5cblx0Y29uc3QgZWZmZWN0c0NvdW50ID0gcmVhZFVpbnQxNihyZWFkZXIpO1xuXHRjb25zdCBlZmZlY3RzOiBMYXllckVmZmVjdHNJbmZvID0gPGFueT57fTtcblxuXHRmb3IgKGxldCBpID0gMDsgaSA8IGVmZmVjdHNDb3VudDsgaSsrKSB7XG5cdFx0Y2hlY2tTaWduYXR1cmUocmVhZGVyLCAnOEJJTScpO1xuXHRcdGNvbnN0IHR5cGUgPSByZWFkU2lnbmF0dXJlKHJlYWRlcik7XG5cblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJ2NtblMnOiAvLyBjb21tb24gc3RhdGUgKHNlZSBTZWUgRWZmZWN0cyBsYXllciwgY29tbW9uIHN0YXRlIGluZm8pXG5cdFx0XHRcdGNvbnN0IHNpemUgPSByZWFkVWludDMyKHJlYWRlcik7XG5cdFx0XHRcdGNvbnN0IHZlcnNpb24gPSByZWFkVWludDMyKHJlYWRlcik7XG5cdFx0XHRcdGNvbnN0IHZpc2libGUgPSAhIXJlYWRVaW50OChyZWFkZXIpO1xuXHRcdFx0XHRza2lwQnl0ZXMocmVhZGVyLCAyKTtcblxuXHRcdFx0XHRpZiAoc2l6ZSAhPT0gNyB8fCB2ZXJzaW9uICE9PSAwIHx8ICF2aXNpYmxlKVxuXHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBlZmZlY3RzIGNvbW1vbiBzdGF0ZWApO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2RzZHcnOiAvLyBkcm9wIHNoYWRvdyAoc2VlIFNlZSBFZmZlY3RzIGxheWVyLCBkcm9wIHNoYWRvdyBhbmQgaW5uZXIgc2hhZG93IGluZm8pXG5cdFx0XHRcdGVmZmVjdHMuZHJvcFNoYWRvdyA9IHJlYWRTaGFkb3dJbmZvKHJlYWRlcik7XG5cdFx0XHRcdGJyZWFrO1xuXHRcdFx0Y2FzZSAnaXNkdyc6IC8vIGlubmVyIHNoYWRvdyAoc2VlIFNlZSBFZmZlY3RzIGxheWVyLCBkcm9wIHNoYWRvdyBhbmQgaW5uZXIgc2hhZG93IGluZm8pXG5cdFx0XHRcdGVmZmVjdHMuaW5uZXJTaGFkb3cgPSByZWFkU2hhZG93SW5mbyhyZWFkZXIpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ29nbHcnOiAvLyBvdXRlciBnbG93IChzZWUgU2VlIEVmZmVjdHMgbGF5ZXIsIG91dGVyIGdsb3cgaW5mbylcblx0XHRcdFx0ZWZmZWN0cy5vdXRlckdsb3cgPSByZWFkT3V0ZXJHbG93SW5mbyhyZWFkZXIpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2lnbHcnOiAvLyBpbm5lciBnbG93IChzZWUgU2VlIEVmZmVjdHMgbGF5ZXIsIGlubmVyIGdsb3cgaW5mbylcblx0XHRcdFx0ZWZmZWN0cy5pbm5lckdsb3cgPSByZWFkSW5uZXJHbG93SW5mbyhyZWFkZXIpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ2JldmwnOiAvLyBiZXZlbCAoc2VlIFNlZSBFZmZlY3RzIGxheWVyLCBiZXZlbCBpbmZvKVxuXHRcdFx0XHRlZmZlY3RzLmJldmVsID0gcmVhZEJldmVsSW5mbyhyZWFkZXIpO1xuXHRcdFx0XHRicmVhaztcblx0XHRcdGNhc2UgJ3NvZmknOiAvLyBzb2xpZCBmaWxsICggUGhvdG9zaG9wIDcuMCkgKHNlZSBTZWUgRWZmZWN0cyBsYXllciwgc29saWQgZmlsbCAoYWRkZWQgaW4gUGhvdG9zaG9wIDcuMCkpXG5cdFx0XHRcdGVmZmVjdHMuc29saWRGaWxsID0gcmVhZFNvbGlkRmlsbEluZm8ocmVhZGVyKTtcblx0XHRcdFx0YnJlYWs7XG5cdFx0XHRkZWZhdWx0OlxuXHRcdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZWZmZWN0IHR5cGU6ICcke3R5cGV9J2ApO1xuXHRcdH1cblx0fVxuXG5cdHJldHVybiBlZmZlY3RzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gd3JpdGVFZmZlY3RzKF93cml0ZXI6IFBzZFdyaXRlciwgX2VmZmVjdHM6IExheWVyRWZmZWN0c0luZm8pIHtcblx0dGhyb3cgbmV3IEVycm9yKCdOb3QgaW1wbGVtZW50ZWQnKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiRDpcXFByb2plY3RzXFxnaXRodWJcXGFnLXBzZFxcc3JjIn0=
